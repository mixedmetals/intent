---
sidebar_position: 78
---
import React from 'react';

# DataTable

Advanced data tables with sorting, filtering, and pagination.

export const DataTable = ({ data, columns, sortable = true }) => {
  const [sortConfig, setSortConfig] = React.useState({ key: null, direction: 'asc' })
  
  const sortedData = React.useMemo(() => {
    if (!sortConfig.key) return data
    return [...data].sort((a, b) => {
      if (a[sortConfig.key] < b[sortConfig.key]) return sortConfig.direction === 'asc' ? -1 : 1
      if (a[sortConfig.key] > b[sortConfig.key]) return sortConfig.direction === 'asc' ? 1 : -1
      return 0
    })
  }, [data, sortConfig])
  
  const handleSort = (key) => {
    if (!sortable) return
    setSortConfig(current => ({
      key,
      direction: current.key === key && current.direction === 'asc' ? 'desc' : 'asc'
    }))
  }
  
  return (
    <div style={{ border: '1px solid var(--intent-color-border)', borderRadius: '8px', overflow: 'hidden' }}>
      <table style={{ width: '100%', borderCollapse: 'collapse' }}>
        <thead>
          <tr style={{ background: 'var(--intent-color-surface-elevated)' }}>
            {columns.map((col) => (
              <th 
                key={col.key} 
                onClick={() => handleSort(col.key)}
                style={{ 
                  padding: '12px 16px', 
                  textAlign: 'left', 
                  fontWeight: 600, 
                  fontSize: '0.875rem',
                  borderBottom: '1px solid var(--intent-color-border)',
                  cursor: sortable ? 'pointer' : 'default',
                  userSelect: 'none'
                }}
              >
                <span style={{ display: 'flex', alignItems: 'center', gap: '4px' }}>
                  {col.title}
                  {sortable && sortConfig.key === col.key && (
                    <span>{sortConfig.direction === 'asc' ? '↑' : '↓'}</span>
                  )}
                </span>
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {sortedData.map((row, i) => (
            <tr key={i} style={{ borderBottom: '1px solid var(--intent-color-border)' }}>
              {columns.map((col) => (
                <td key={col.key} style={{ padding: '12px 16px', fontSize: '0.875rem' }}>
                  {col.render ? col.render(row[col.key], row) : row[col.key]}
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  )
}

export const Badge = ({ children, variant = 'default' }) => (
  <span style={{
    display: 'inline-flex',
    padding: '2px 8px',
    borderRadius: '9999px',
    fontSize: '0.75rem',
    fontWeight: 600,
    background: variant === 'success' ? 'var(--intent-color-success-subtle, #dcfce7)' : 'var(--intent-color-surface-elevated)',
    color: variant === 'success' ? 'var(--intent-color-success, #16a34a)' : 'var(--intent-color-foreground)'
  }}>
    {children}
  </span>
)

## Examples

### Sortable Table

<div className="intent-demo">
  <DataTable 
    columns={[
      { key: 'name', title: 'Name' },
      { key: 'email', title: 'Email' },
      { key: 'role', title: 'Role' },
      { key: 'status', title: 'Status', render: (v) => <Badge variant={v === 'Active' ? 'success' : 'default'}>{v}</Badge> }
    ]}
    data={[
      { name: 'John Doe', email: 'john@example.com', role: 'Admin', status: 'Active' },
      { name: 'Jane Smith', email: 'jane@example.com', role: 'Editor', status: 'Active' },
      { name: 'Bob Johnson', email: 'bob@example.com', role: 'Viewer', status: 'Inactive' },
      { name: 'Alice Brown', email: 'alice@example.com', role: 'Editor', status: 'Active' }
    ]}
  />
</div>

```tsx
<DataTable 
  columns={[
    { key: 'name', title: 'Name' },
    { key: 'email', title: 'Email' },
    { key: 'status', title: 'Status', render: (v) => <Badge>{v}</Badge> }
  ]}
  data={[...]}
/>
```

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `data` | `Array<object>` | `[]` | Table data |
| `columns` | `Array<{key: string, title: string, render?: (value, row) => ReactNode}>` | `[]` | Column definitions |
| `sortable` | `boolean` | `true` | Enable column sorting |
| `selectable` | `boolean` | `false` | Enable row selection |
| `pagination` | `object` | - | Pagination config |

## CSS Output

```css
.intent-data-table {
  border: 1px solid var(--intent-color-border);
  border-radius: var(--intent-radius-md);
  overflow: hidden;
}

.intent-data-table__head {
  background: var(--intent-color-surface-elevated);
}

.intent-data-table__th {
  padding: 12px 16px;
  text-align: left;
  font-weight: 600;
  font-size: 0.875rem;
  border-bottom: 1px solid var(--intent-color-border);
}

.intent-data-table__th--sortable {
  cursor: pointer;
  user-select: none;
}

.intent-data-table__td {
  padding: 12px 16px;
  font-size: 0.875rem;
  border-bottom: 1px solid var(--intent-color-border);
}

.intent-data-table__row:hover {
  background: var(--intent-color-surface-hover);
}
```
